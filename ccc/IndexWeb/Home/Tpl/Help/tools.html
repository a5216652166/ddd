<!doctype html>

<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="zh_CN"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="zh_CN"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="zh_CN"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="zh-CN">
<!--<![endif]-->
<head>

<include file="Public:include" />
<link href="__ROOT__/Public/css/detail.css" rel="stylesheet" type="text/css" />

<style type="text/css">
    /*
    .more_info{cursor:pointer}
    .hide_info{display:none;}
    .data_info{display:none;}
    */

    .hid{
        display:none;
    }
    .clear{
        clear:both;
    }
    /* begin flashbox */
    .flash-message{
        padding:5px;
        font-size:12px;
        font-weight:bold;
        color:#333;
        height:20px;
        /* float:left; */
        position:relative;
        top:0px;
        left:400px;
        width:200px;
    }
    .flash-message span{
        background:#ffffbc;
        padding:4px;
        padding-left:20px;
        padding-right:20px;
        border-radius:3px;
    }
    .ajaxstatus{
        padding:10px;
        padding-top:2px;
        padding-bottom:0px;
        font-weight:bold;
        color:#333;
        height:20px;
        position:absolute;
        display:inline-block;
        top:0px;
        left:0px;
        margin:0px;
        /* float:left; */
        color:black;
        font-size:13px;
        font-weight:bold;
        -webkit-border-radius:2px 2px;
        -moz-border-radius:2px 2px;
        border-radius:2px 2px;
    }
    .ajaxstatus img{
        display:none;
    }
    .ajaxstatus.loading{
        background-color:#FE8
    }
    .ajaxstatus.error{
        color:white;
        background-color:#B00
    }
    .ajaxstatus.error img{
        display:inline-block;
    }
    .ajaxstatus.error em{
        font-style:normal;
    }
    .ajaxstatus .close{
        position:relative;
        right:-1px;
        top:1px;
        cursor:pointer;
    }
    .ajaxstatus.success{
        color:white;
        background-color:#349900;
    }
    /* end flashbox */

    .defaulttable{
        border:1px solid #d0d0d2;
        width:84%;
        box-shadow:0px 1px 1px #ddd;
        background-color:#fff;
        margin:30px 97px;
    }
    .defaulttable thead{
        background-color:#f7f7f7;
        height:38px;
    }
    .defaulttable thead th{
        font-weight:bold;
        text-align:left;
    }
    .defaulttable th,
    .defaulttable td{
        padding:10px;
        border-bottom:1px solid #d0d0d2;
    }

    .defaulttable tr:hover{
        background-color:#f1f1f1;
    }

    /*begin domaindiag
    * ==========================*/
    .diag {
        min-height:200px;
        font-size:14px;
    }
    .diag .inputs{
        height:60px;
        width:700px;
        margin:0 auto 20px auto;
    }
    .diag .line{
        border-bottom:1px solid #eee;
    }
    .diag .inputs input{
        height:30px;
        width:500px;
        font-size:16px;
        margin-right:20px;
    }
    .diag .inputs button{
        height:40px;
        font-size:16px;
    }
    .small .inputs{
        margin:0 0 0 97px;
    } 
    .small .inputs input{
        height: 20px;
        width: 200px;
        font-size: 14px;
    }
    .domain_status{
        height:50px;
        width:500px;
        margin:30px 0 0 25px;
    }
    .small .inputs button{
        height: 30px;
        font-size: 14px;
    }
    .diag .result ul li{
        line-height:2em;
    }
    .diag .desc{
        height:50px;
        width:500px;
        margin:30px 0 0 25px;
    }
    .diag .desc p{
        height:42px;
        line-height:42px;
        font-size:20px;
        font-weight:bold;
        margin:0 20px;
    }
    .diag .desc .ok{
        width:51px;
        height:42px;
    }
    .diag .desc .warn{
        width:51px;
        height:42px;
    }

    .diag .result td p{
        clear:both;
        height:30px;
        line-height:30px;
        float:none;
        overflow:hidden;
    }
    .diag #whoisresult p span{
        float:left;
        width:100px;
        line-height:30px;
    }
    .diag .whoisresultdesc{
        background-color:#f1f1f1;
        border:1px solid #efefef;
        padding:10px;
    } 
    .diag .http_result_desc{
        background-color:#f1f1f1;
        border:1px solid #efefef;
        padding:10px;
        margin-top:10px;
    } 
    .diag #ns-tip{
        background-color:#f1f1f1;
        border:1px solid #efefef;
        padding:10px;
        margin-top:10px;
    } 
    .diag .digtrace_result_desc{
        background-color:#f1f1f1;
        border:1px solid #efefef;
        padding:10px;
        margin-top:10px;
    } 
    .diag .httpresult dl{
        clear:both;
        margin:5px 0; 
        overflow:hidden;
    }
    .diag .httpresult dl dt{
        float:left;
        width:150px;
    }
    .diag .httpresult dl dd{
        float:left;
        width:200px;
        white-space:pre;
    }
    .diag .other_qtype{
        margin-top:5px;
    }
    .diag .dnsresult td p{
        font-weight:bold;
        border-bottom:1px solid #ddd;
    }
    .diag .result td ul li {
        clear:both;
    }
    .diag .result td ul li span{
        line-height:30px;
        width:250px;
        float:left;
    }
    .diag .diagcate{
        width:100px;
    }
    .diag .result td ul li div{
        float:left;
        width:300px;
        word-break:break-all;
    }
    .diag .defaulttable tr:hover{
        background-color:#fff;
    }
    .diag .nslookupresult i{
        margin-right:3px; 
        margin-top:-2px;
        width:20px;
        height:16px;
        float:left;
    }
    .diag .result .ok{
        width:16px;
        height:16px;
    }
    .diag .result .warn,.diag .result .error{
        width:16px;
        height:16px;
        }
    #help-inline{
        color: #B94A48;
        display:none;
    }
    .warning_info {
        color : #B94A48!important;
    }
    /*end domaindiag */  
    
    /*
    .ui-progress span.ui-labels {
        font-size: 0.8em;
        right: 0;
        line-height: 18px;
        padding-right: 12px;
        color: rgba(0,0,0,0.6);
        text-shadow: rgba(255,255,255, 0.45) 0 1px 0px;
        white-space: nowrap;
    }
    .ui-progress span.ui-label {
        font-size: 0.8em;
        position: absolute;
        right: 0;
        line-height: 18px;
        padding-right: 12px;
        color: rgba(0,0,0,0.6);
        text-shadow: rgba(255,255,255, 0.45) 0 1px 0px;
        white-space: nowrap;
    }
    @-webkit-keyframes animate-stripes {
        from {
            background-position: 0 0;
        }
    
        to {
            background-position: 44px 0;
        }
    }
    
    .ui-progress-bar {
        height: 20px;
        padding-right: 2px;
        background-color: #abb2bc;
        border-radius: 35px;
        -moz-border-radius: 35px;
        -webkit-border-radius: 35px;
        background: -webkit-gradient(linear, left bottom, left top, color-stop(0, #b6bcc6), color-stop(1, #9da5b0));
        background: -moz-linear-gradient(#9da5b0 0%, #b6bcc6 100%);
        -webkit-box-shadow: inset 0px 1px 2px 0px rgba(0, 0, 0, 0.5), 0px 1px 0px 0px #FFF;
        -moz-box-shadow: inset 0px 1px 2px 0px rgba(0, 0, 0, 0.5), 0px 1px 0px 0px #FFF;
        box-shadow: inset 0px 1px 2px 0px rgba(0, 0, 0, 0.5), 0px 1px 0px 0px #FFF;
    }
    
    .ui-progress {
        position: relative;
        display: block;
        height: 19px;
        -moz-border-radius: 35px;
        -webkit-border-radius: 35px;
        border-radius: 35px;
        -webkit-background-size: 44px 44px;
        background-color: #74d04c;
        background: -webkit-gradient(linear, 
                    left bottom, left top, 
                    color-stop(0, #74d04c), 
                    color-stop(1, #9bdd62));
    }
    */

    /*
    #tooltip_info .tooltip {
        position: absolute;
        z-index: 1030;
        display: block;
        font-zie: 11px;
        line-height: 1.4;
        float:left;
        opacity: 0;
        filter: alpha(apacity=0);
        visibility: visible;
    }
    #tooltip_info .tooltip.in {
        opacity: 0.8;
        filter: alpha(opacity=80);
    }
    #tooltip_info .tooltip.top {
        padding: 0 2px;
        margin-top: -55px;
        margin-left: 110px;
    }
    #tooltip_info .tooltip-inner {
        max-width: 250px;
        padding-left: 4px;
        padding-right: 4px;
        color: #ffffff;
        text-align: center;
        text-decoration: none;
        background-color: #000000;
        -webkit-border-radius: 4px;
           -moz-border-radius: 4px;
                border-radius: 4px;
    }
    #tooltip_info .tooltip-arrow {
        position: absolute;
        width: 0;
        height: 0;
        border-color: transparent;
        border-style: solid;
    }
    #tooltip_info .tooltip.top .tooltip-arrow {
        top: 50%;
        left: 0;
        margin-top: -5px;
    }
    .domain_status_icon {
        width: 22px!important;
        height: 20px;
        padding: 5px 3px;
    }
    #tooltip_where {
        margin-top: -27px;
        margin-left: 0px;
        width:400px
    }
    #dnssx_result {
        background-color: #F1F1F1;
        border: 1px solid #EFEFEF;
        padding: 30px;
        margin-top: 10px;
    }
    #dnssx_result p {
        font-weight: bold;
        border-bottom: 1px solid #DDD;
    }
    .icon_style {
        width: 18px;
        height: 18px;
        padding: 3px 2px;
    }
    */
   /* ==========================*/


    /* tooltip */
    .relate-info-show {
        position: absolute;
        padding: 10px;
        left: 10px;
        top: 10px;
        background: #fffae2;
        border: 1px solid #f4eed0;
        line-height: 18px;
        z-index: 10;
        width: 400px;
        color: #000;
    }


    /* progress bar */
    @-webkit-keyframes progress-bar-stripes {
        from {
            background-position: 40px 0
        }

        to {
            background-position: 0 0
        }
    }

    @-moz-keyframes progress-bar-stripes {
        from {
            background-position: 40px 0
        }

        to {
            background-position: 0 0
        }
    }

    @-ms-keyframes progress-bar-stripes {
        from {
            background-position: 40px 0
        }

        to {
            background-position: 0 0
        }
    }

    @-o-keyframes progress-bar-stripes {
        from {
            background-position: 0 0
        }

        to {
            background-position: 40px 0
        }
    }

    @keyframes progress-bar-stripes {
        from {
            background-position: 40px 0
        }

        to {
            background-position: 0 0
        }
    }

    .progress {
        height: 20px;
        /*margin-bottom: 20px;*/
        overflow: hidden;
        /*background-color: #f7f7f7;
        background-image: -moz-linear-gradient(top,#f5f5f5,#f9f9f9);
        background-image: -webkit-gradient(linear,0 0,0 100%,from(#f5f5f5),to(#f9f9f9));
        background-image: -webkit-linear-gradient(top,#f5f5f5,#f9f9f9);
        background-image: -o-linear-gradient(top,#f5f5f5,#f9f9f9);
        background-image: linear-gradient(to bottom,#f5f5f5,#f9f9f9);*/
        /*background-color: #d8d8d8;
        background-image: -moz-linear-gradient(top,#d5d5d5,#dbdbdb);
        background-image: -webkit-gradient(linear,0 0,0 100%,from(#f5f5f5),to(#dbdbdb));
        background-image: -webkit-linear-gradient(top,#f5f5f5,#dbdbdb);
        background-image: -o-linear-gradient(top,#f5f5f5,#dbdbdb);
        background-image: linear-gradient(to bottom,#f5f5f5,#dbdbdb);
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#d5d5d5',endColorstr='#dbdbdb',GradientType=0);*/

        background-color: #abb2bc;
        background-image: -moz-linear-gradient(top,#9da5b0,#b6bcc6);
        background-image: -webkit-gradient(linear,0 0,0 100%,from(#9da5b0),to(#b6bcc6));
        background-image: -webkit-linear-gradient(top,#9da5b0,#b6bcc6);
        background-image: -o-linear-gradient(top,#9da5b0,#b6bcc6);
        background-image: linear-gradient(to bottom,#9da5b0,#b6bcc6);
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#9da5b0',endColorstr='#b6bcc6',GradientType=0);

        -webkit-box-shadow: inset 0px 1px 2px 0px rgba(0, 0, 0, 0.5), 0px 1px 0px 0px #FFF;
        -moz-box-shadow: inset 0px 1px 2px 0px rgba(0, 0, 0, 0.5), 0px 1px 0px 0px #FFF;
        box-shadow: inset 0px 1px 2px 0px rgba(0, 0, 0, 0.5), 0px 1px 0px 0px #FFF;

        background-repeat: repeat-x;
        -webkit-border-radius: 4px;
        -moz-border-radius: 4px;
        border-radius: 4px;
        /*filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fff5f5f5',endColorstr='#fff9f9f9',GradientType=0);*/
        /*-webkit-box-shadow: inset 0 1px 2px rgba(0,0,0,0.1);
        -moz-box-shadow: inset 0 1px 2px rgba(0,0,0,0.1);
        box-shadow: inset 0 1px 2px rgba(0,0,0,0.1);*/

        #d5d5d5,#DADADA)
    }

    .progress .bar {
        float: left;
        width: 0;
        height: 100%;
        font-size: 12px;
        color: #fff;
        text-align: center;
        text-shadow: 0 -1px 0 rgba(0,0,0,0.25);
        background-color: #0e90d2;
        background-image: -moz-linear-gradient(top,#149bdf,#0480be);
        background-image: -webkit-gradient(linear,0 0,0 100%,from(#149bdf),to(#0480be));
        background-image: -webkit-linear-gradient(top,#149bdf,#0480be);
        background-image: -o-linear-gradient(top,#149bdf,#0480be);
        background-image: linear-gradient(to bottom,#149bdf,#0480be);
        background-repeat: repeat-x;
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff149bdf',endColorstr='#ff0480be',GradientType=0);
        -webkit-box-shadow: inset 0 -1px 0 rgba(0,0,0,0.15);
        -moz-box-shadow: inset 0 -1px 0 rgba(0,0,0,0.15);
        box-shadow: inset 0 -1px 0 rgba(0,0,0,0.15);
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        -webkit-transition: width .6s ease;
        -moz-transition: width .6s ease;
        -o-transition: width .6s ease;
        transition: width .6s ease
    }

    .progress .bar+.bar {
        -webkit-box-shadow: inset 1px 0 0 rgba(0,0,0,0.15),inset 0 -1px 0 rgba(0,0,0,0.15);
        -moz-box-shadow: inset 1px 0 0 rgba(0,0,0,0.15),inset 0 -1px 0 rgba(0,0,0,0.15);
        box-shadow: inset 1px 0 0 rgba(0,0,0,0.15),inset 0 -1px 0 rgba(0,0,0,0.15)
    }

    .progress-striped .bar {
        background-color: #149bdf;
        background-image: -webkit-gradient(linear,0 100%,100% 0,color-stop(0.25,rgba(255,255,255,0.15)),color-stop(0.25,transparent),color-stop(0.5,transparent),color-stop(0.5,rgba(255,255,255,0.15)),color-stop(0.75,rgba(255,255,255,0.15)),color-stop(0.75,transparent),to(transparent));
        background-image: -webkit-linear-gradient(45deg,rgba(255,255,255,0.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,0.15) 50%,rgba(255,255,255,0.15) 75%,transparent 75%,transparent);
        background-image: -moz-linear-gradient(45deg,rgba(255,255,255,0.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,0.15) 50%,rgba(255,255,255,0.15) 75%,transparent 75%,transparent);
        background-image: -o-linear-gradient(45deg,rgba(255,255,255,0.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,0.15) 50%,rgba(255,255,255,0.15) 75%,transparent 75%,transparent);
        background-image: linear-gradient(45deg,rgba(255,255,255,0.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,0.15) 50%,rgba(255,255,255,0.15) 75%,transparent 75%,transparent);
        -webkit-background-size: 40px 40px;
        -moz-background-size: 40px 40px;
        -o-background-size: 40px 40px;
        background-size: 40px 40px
    }

    .progress.active .bar {
        -webkit-animation: progress-bar-stripes 2s linear infinite;
        -moz-animation: progress-bar-stripes 2s linear infinite;
        -ms-animation: progress-bar-stripes 2s linear infinite;
        -o-animation: progress-bar-stripes 2s linear infinite;
        animation: progress-bar-stripes 2s linear infinite
    }

    /* error page */
    /*body {background: #f9fee8;margin: 0; padding: 20px; text-align:center; font-family:Arial, Helvetica, sans-serif; font-size:14px; color:#666666;}*/
    .error_page {width: 600px; padding: 50px; margin: auto; text-align: center; display: none;}
    .error_page h1 {margin: 20px 0 0; font-size: 24px;}
    .error_page p {margin: 10px 0; padding: 0;text-align: center; width: 100%;}
    /*a {color: #9caa6d; text-decoration:none;}
    a:hover {color: #9caa6d; text-decoration:underline;}*/


</style>

</head>

<body>


  <!-- Topbar ================================================== -->
  <include file="Public:header" clazz="support" />



  <!-- Page ================================================== -->
  <div role="main">
    <div class='container pages support-pages'>
      <div class='guide'>
        <h1>域名健康诊断</h1>
        <p>为您提供全面的智能化域名诊断，域名健康情况一目了然。</p>
      </div>

      <div class='main-content'>
        <div class='wrapper'>
          <div class="row">

            <section class="sub-content">
                <nav>
                    <div style="margin-top:10px;margin-left:-10px;margin-bottom:10px">
                        <ul class="yarnball">
                            <li class="yarnlet first">
                                <a href="__URL__/help" style="z-index: 9;">
                                    <span class="left-yarn">
                                    </span>
                                    帮助中心
                                </a>
                            </li>
                            <li class="yarnlet ">
                                <a style="z-index: 8;">
                                    域名诊断
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>


              <div class="diag small">
                <div class="inputs clear">
                  <form>
                    <input type='text' id='domain_zhenduan' style="width: 300px;"
                      name='domain' value='{$domain}' placeholder='请输入要诊断的域名，例如：eflydns.com'
                      tabindex='1' />
                    <button type='submit' class="domaindiag btn primary"
                      id="domaindiag">域名诊断</button>
                    <div>
                    <div id='help-inline' style="margin-right: 10px;">请输入正确域名</div>
                    <!--
                      域名解析不到IP？试试
                      <a href="#">DNS检测工具</a>吧！
                    -->
                    </div>
                  </form>
                </div>

                <div class="line hid" style="display: block; "></div>
                <div class="desc hid">
                  <div class="msg_status"></div>
                </div>

                <table border="0" class="defaulttable result hid clear" style="display: none;">
                    <thead>
                        <tr>
                            <th></th>
                            <th>
                                项目
                            </th>
                            <th>
                                结果
                            </th>
                        </tr>
                    </thead>
                    <tbody class="info_zhenduan" id="info_zhenduan">
                        <tr class="domain_info">
                            <td class="ok">
                                <img src="__ROOT__/Public/images/help/ok.jpg">
                            </td>
                            <td class="diagcate">
                                最后更新时间
                            </td>
                            <td class="whois_info">
                                <div class="data_info">
                                </div>
                                <span class="warning_info"></span>
                            </td>
                        </tr>
                        <tr class="domain_info">
                            <td class="ok">
                                <img src="__ROOT__/Public/images/help/ok.jpg">
                            </td>
                            <td>
                                NS状态
                            </td>
                            <td>
                                <div class="data_info" id="ns-tip">
                                </div>
                                <span class="warning_info"></span>
                            </td>
                        </tr>
                        <tr class="domain_info">
                            <td class="ok">
                                <img src="__ROOT__/Public/images/help/ok.jpg">
                            </td>
                            <td>
                                注册日期
                            </td>
                            <td>
                                <div class="data_info">
                                </div>
                                <span class="warning_info"></span>
                            </td>
                        </tr>
                        <tr class="domain_info">
                            <td class="ok">
                                <img src="__ROOT__/Public/images/help/ok.jpg">
                            </td>
                            <td>
                                到期日期
                            </td>
                            <td>
                                <div class="data_info">
                                </div>
                                <span class="warning_info"></span>
                            </td>
                        </tr>
                        <tr class="domain_info">
                            <td class="ok">
                                <img src="__ROOT__/Public/images/help/ok.jpg">
                            </td>
                            <td>
                                域名时间
                            </td>
                            <td>
                                <div class="data_info">
                                    <div class="progress progress-striped active">
                                        <div class="bar" style="width: 20%; position: relative;">
                                            <span style="width: 140px;line-height: 20px;font-size: 12px;color: #fff;right: 5px;">
                                                离域名到期还有
                                                <b class="value">
                                                    336天
                                                </b>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <span class="warning_info"></span>
                            </td>
                        </tr>
                        <tr class="domain_info">
                            <td class="ok">
                                <img src="__ROOT__/Public/images/help/ok.jpg">
                            </td>
                            <td>
                                域名状态
                            </td>
                            <td>
                                <div class="data_info">

                                </div>
                                <span class="warning_info"></span>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div style="color:#5e5e5e; border-bottom:1px solid #5e5e5e; width: 84%; margin: 0 auto;margin: 0 auto -5px; height: 25px; display:none;">详细英文注册信息如下</div>
                <div id="originInfo" style="color:#5e5e5e; width: 84%; margin: 0 auto 20px; display:none;"></div>

                <!--错误页面-->
                <div class="error_page">
                    <img alt="Kidmondo_face_sad" src="__ROOT__/Public/images/help/kidmondo_face_sad.gif">
                    <h1>
                        出错啦，请稍后重试
                    </h1>
                    <p>The page or journal you are looking for cannot be found.</p>
                </div>

                <!--
                <div id="ressurvey">
                  <div style="margin:0 0 10px 93px;">
                    <h4 style="display:inline">如果上面的诊断无法解决您的问题，您还可以</h4>
                    <a style="font-weight:bold" href='#'>通过向导解决问题</a>
                  </div>
                </div>
                -->

              </div>

            </section>

          </div>
          <!--end of a row-->
        </div>
        <!-- end of wrapper -->
      </div>
      <!-- end of main-content -->
    </div>
    <!-- END OF CONTAINER -->
  </div>
  <!-- END OF MAIN -->



  <!-- footer ================================================== -->
  <include file="Public:footer" bread="帮助中心" />


  <script>
      seajs.use('jquery.js', function($){

          $(function(){
            /*
            $(".more_info").live("click",function(){
                $(this).hide();
                $(this).parents("td").find(".hide_info").show();
                $(this).parents("td").find(".data_info").show();
            });
            $(".hide_info").live("click",function(){
                $(this).hide();
                $(this).parents("td").find(".more_info").show();
                $(this).parents("td").find(".data_info").hide();
            });
            $("#progress_bar").live("mouseover",function(){
                document.getElementById("tooltip-box").style.display="block";
            });
            $("#progress_bar").live("mouseout",function(){
                document.getElementById("tooltip-box").style.display="none";
            });
            $(".dig_whois").live("click",function(){
                $("#whoisresult").show();
                $("#whoisresult").parents("td").find(".hide_info").show();
                $("#whoisresult").parents("td").find(".more_info").hide();
                $("#whoisresult").parents("td").focus();
            });
            $(".dig_record").live("click",function(){
                $("#record_result").show();
                $("#record_result").parents("td").find(".hide_info").show();
                $("#record_result").parents("td").find(".more_info").hide();
                $("#record_result").parents("td").focus();
            });
            */

            //tooltips
            $("img[src*='question-tip.png']").live({
                mousemove : function(e){
                    var x = e.pageX + 10;
                    var y = e.pageY + 5;

                    $(this).parent().next().css({
                        'left': x + 'px',
                        'top': y + 'px'
                    }).show();
                },
                mouseleave : function(){
                    $(this).parent().next().hide();
                }
            });

            $("#domaindiag").click(function(e){
                e.preventDefault();//阻止默认行为

                //隐藏信息
                $("#info_zhenduan").parent().hide();//基本信息
                $("#originInfo").hide().prev().hide();//原始信息
                $("div.error_page").hide();//错误页面

                if($("#help-inline").is(":visible")){
                    $("#help-inline").hide();
                }

                var domain = $("#domain_zhenduan").val().trim().toLocaleLowerCase();
                var doname = /(^([a-zA-Z0-9-\u4e00-\u9fa5]+\.)+([a-zA-Z-\u4e00-\u9fa5]+)$)/;
                var flag_domain = doname.test(domain);
                if(!flag_domain){
                    $("#help-inline").css("display", "inline");
                    $("#help-inline").show();
                    return;
                }


                //等待效果
                //var loading = '<div id="loading" style="width:200px; margin:20px auto 0; color:#5e5e5e;">结果加载中，请稍后。。。</div>';
                var loading = '<div id="loading" style="width:200px;margin:20px auto 0;"><img src="__ROOT__/Public/images/loading.gif"/></div>';
                if($('#loading').size() == 0){
                    $("#info_zhenduan").parent().before(loading);
                }

                $.ajax({
                    url : '__URL__/get_whois_info',
                    type: 'GET',
                    data: {'domain' : domain},
                    dataType: 'json',
                    success: function(data){
                        //console.log(data);

                        if(data.Ret){
                            //出错
                            $("div.error_page p").html(data.RetMsg);
                            $("div.error_page").show();
                            $("#info_zhenduan").parent().prev('#loading').remove();
                            return;
                        }

                        //最后更新时间
                        var $div = $("#info_zhenduan").find("tr").eq(0).children("td:last").find("div.data_info");
                        var html = '<p>' + data.Updated['time'] + '</p>';
                        $div.html(html);
                        $div.next().html(data.Updated['msg']);
                        if(data.Updated['msg']){
                            $div.parent().siblings(':first').children('img').attr('src', '__ROOT__/Public/images/help/warning.jpg');
                        }else{
                            $div.parent().siblings(':first').children('img').attr('src', '__ROOT__/Public/images/help/ok.jpg');
                        }

                        //NS状态
                        $div = $("#info_zhenduan").find("tr").eq(1).children("td:last").find("div.data_info");
                        html = '';
                        for(var k in data.Nameservers){
                            if(k !== 'msg'){
                                html += '<p>' + data.Nameservers[k] + '</p>';
                            }
                        }
                        $div.html(html);
                        $div.next().html(data.Nameservers['msg']);
                        if(data.Nameservers['msg']){
                            $div.parent().siblings(':first').children('img').attr('src', '__ROOT__/Public/images/help/warning.jpg');
                        }else{
                            $div.parent().siblings(':first').children('img').attr('src', '__ROOT__/Public/images/help/ok.jpg');
                        }

                        //注册日期
                        $div = $("#info_zhenduan").find("tr").eq(2).children("td:last").find("div.data_info");
                        html = '<p>' + data.BeginDate + '</p>';
                        $div.html(html);

                        //到期日期
                        $div = $("#info_zhenduan").find("tr").eq(3).children("td:last").find("div.data_info");
                        html = '<p>' + data.EndDate + '</p>';
                        $div.html(html);

                        //域名时间
                        $(".progress .bar").css('width', (data.TotalDays - data.LeaveDays) / data.TotalDays * 100 + '%');
                        $(".progress .bar").find('b').html(data.LeaveDays + '天');

                        //域名状态
                        $div = $("#info_zhenduan").find("tr").eq(5).children("td:last").find("div.data_info");
                        html = '';
                        for(var i = 0; i < data.StatusInfo.length; i++){
                            html += '<p>' + 
                                '<span style="margin-right:5px;">' + data.StatusInfo[i].desc + '(' +  data.StatusInfo[i].status + ')</span>' + 
                                '<img src="__ROOT__/Public/images/help/question-tip.png" alt="">' + 
                            '</p>' + 
                            '<div class="relate-info-show" style="display: none;">' + data.StatusInfo[i].tip + '</div>';
                        }

                        $div.html(html);

                        //原始信息
                        //$div = $("#info_zhenduan").find("tr").eq(6).children("td:last").find("div.data_info");
                        $("#originInfo").html(data.OriginalInfo);


                        //显示信息
                        $("#info_zhenduan").parent().show();//基本信息
                        $("#originInfo").show().prev().show();//原始信息
                        $("#info_zhenduan").parent().prev('#loading').remove();
                    }
                });

            });


            //如果有域名传入，直接查询
            if($("#domain_zhenduan").val()){
                $("#domaindiag").click();
            }
        });

      });
      
  </script>

</body>
</html>
